/*
 * Yjsgroundprogress      1.0.0
 * @copyright    Copyright(C) since 2007  Youjoomla.com. All Rights Reserved.
 * @author       YouJoomla
 * @license      http://www.gnu.org/licenses/gpl-2.0.html GNU/GPLv2 only
 * @websites     http://www.youjoomla.com | http://www.yjsimplegrid.com
 */
!function(a){a.fn.yjsgroundprogress=function(k){var u=a.extend({starting:this.data("start"),ending:this.data("end"),percentage:!0,color:this.css("border-top-color"),lineWidth:this.data("border"),timer:this.data("speed"),fontStyle:this.css("font-family"),fontSize:this.css("font-size"),fontColor:this.css("color"),backgroundColor:this.css("border-bottom-color"),callback:function(){}},k);u.starting||(u.starting=0),u.ending||(u.ending=100),void 0!==this.data("percent")&&(u.percentage=this.data("percent")),u.timer||(u.timer=10),u.lineWidth||(u.lineWidth=5);var q=Math.random();this.empty().append("<canvas height ="+this.height()+" width="+this.width()+" id='my-canvas-"+q+"'/ ></canvas>");var w=document.getElementById("my-canvas-"+q),b=w.width/2,v=w.height/2,x=this.width()/2-u.lineWidth,g=w.getContext("2d");if(u.backgroundColor){var t=w.getContext("2d");t.arc(b,v,x,0,2*Math.PI,!1),t.strokeStyle=u.backgroundColor,t.lineWidth=u.lineWidth,t.stroke()}var j=u.ending-u.starting,p=u.starting,m=setInterval(function(){var f;f=u.percentage?p+"%":p;var c=(1.5+p/50)*Math.PI,d=(1.5+ ++p/50)*Math.PI;g.beginPath(),g.arc(b,v,x,c,d,!1),g.lineWidth=u.lineWidth,g.strokeStyle=u.color,g.stroke(),g.font=u.fontSize+" "+u.fontStyle,g.textAlign="center",g.textBaseline="middle",g.fillStyle=u.fontColor,g.clearRect(b-1.5*parseInt(u.fontSize),v-parseInt(u.fontSize)/2,3*parseInt(u.fontSize),parseInt(u.fontSize)),g.fillText(f,b,v),p>=j&&(window.clearInterval(m),f=u.percentage?p+"%":p,g.clearRect(b-1.5*parseInt(u.fontSize),v-parseInt(u.fontSize)/2,3*parseInt(u.fontSize),parseInt(u.fontSize)),g.fillText(f,b,v),"function"==typeof u.callback&&u.callback.call(this))},u.timer)}}(jQuery),jQuery(function(){jQuery("[data-yjsg-round-progress]").each(function(){jQuery(this).yjsgroundprogress()})});