(function(a){var d={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:false,getWidthFrom:"",responsiveWidth:false},c=a(window),b=a(document),h=[],i=c.height(),g=function(){var r=c.scrollTop(),j=b.height(),k=j-i,n=(r>k)?k-r:0;for(var o=0;o<h.length;o++){var q=h[o],l=q.stickyWrapper.offset().top,m=l-q.topSpacing-n;if(r<=m){if(q.currentTop!==null){q.stickyElement.css("width","").css("position","").css("top","");q.stickyElement.trigger("sticky-end",[q]).parent().removeClass(q.className);q.currentTop=null}}else{var p=j-q.stickyElement.outerHeight()-q.topSpacing-q.bottomSpacing-r-n;if(p<0){p=p+q.topSpacing}else{p=q.topSpacing}if(q.currentTop!=p){q.stickyElement.css("width",q.stickyElement.width()).css("position","fixed").css("top",p);if(typeof q.getWidthFrom!=="undefined"){q.stickyElement.css("width",a(q.getWidthFrom).width())}q.stickyElement.trigger("sticky-start",[q]).parent().addClass(q.className);q.currentTop=p}}}},f=function(){i=c.height();for(var j=0;j<h.length;j++){var k=h[j];if(typeof k.getWidthFrom!=="undefined"&&k.responsiveWidth===true){k.stickyElement.css("width",a(k.getWidthFrom).width())}}},e={init:function(k){var j=a.extend({},d,k);return this.each(function(){var l=a(this);var m=l.attr("id");var p=m?m+"-"+d.wrapperClassName:d.wrapperClassName;var o=a("<div></div>").attr("id",m+"-sticky-wrapper").addClass(j.wrapperClassName);l.wrapAll(o);if(j.center){l.parent().css({width:l.outerWidth(),marginLeft:"auto",marginRight:"auto"})}if(l.css("float")=="right"){l.css({"float":"none"}).parent().css({"float":"right"})}var n=l.parent();n.css("height",l.outerHeight());h.push({topSpacing:j.topSpacing,bottomSpacing:j.bottomSpacing,stickyElement:l,currentTop:null,stickyWrapper:n,className:j.className,getWidthFrom:j.getWidthFrom,responsiveWidth:j.responsiveWidth})})},update:g,unstick:function(j){return this.each(function(){var m=a(this);var l=-1;for(var k=0;k<h.length;k++){if(h[k].stickyElement.get(0)==m.get(0)){l=k}}if(l!=-1){h.splice(l,1);m.unwrap();m.removeAttr("style")}})}};if(window.addEventListener){window.addEventListener("scroll",g,false);window.addEventListener("resize",f,false)}else{if(window.attachEvent){window.attachEvent("onscroll",g);window.attachEvent("onresize",f)}}a.fn.sticky=function(j){if(e[j]){return e[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return e.init.apply(this,arguments)}else{a.error("Method "+j+" does not exist on jQuery.sticky")}}};a.fn.unstick=function(j){if(e[j]){return e[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return e.unstick.apply(this,arguments)}else{a.error("Method "+j+" does not exist on jQuery.sticky")}}};a(function(){setTimeout(g,0)})})(jQuery);